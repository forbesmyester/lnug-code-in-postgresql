---
layout: post
title: Graphviz
tag: 
---

<p>Often as a developer I want to explain something that is either very complicated or very abstract to other people and this is not easy always.</p> <p>In this situation I might use a diagram but I am not particularly skilled at doing this and I find the whole process incredibly frustrating and time consuming.</p> <p>I recently discovered a piece of software called Graphviz. It lets you describe what items are in a graph and the relations between those items and then draws the graph for you!<br></p><p>For example you could have a diagram as simple as this:</p> <pre><code>digraph {<br />  A -&gt; B<br />}</code></pre> <p>Which will generate the following:</p> <a href="http://3.bp.blogspot.com/-bUS-DDK81mo/UcmYAVa4IJI/AAAAAAAAKgA/umVeR6AZwJw/s1600/Screenshot+from+2013-06-25+14:07:51.png" imageanchor="1"><img border="0" src="http://3.bp.blogspot.com/-bUS-DDK81mo/UcmYAVa4IJI/AAAAAAAAKgA/umVeR6AZwJw/s1600/Screenshot+from+2013-06-25+14:07:51.png"></a> <p>Could not be simpler right? But how about we try something a little more complex?</p> <pre><code>digraph { <br />  graph [ dpi = 55 ];<br />  rankdir="LR";<br />  node[shape=record];<br />  subgraph clusterStore {<br />    label="Call Center";<br />    Jack [label="Jack | \{hair: \"black\", eyes: \"blue\"\}"];<br />    Computer [label="Computer System"];<br />  }<br />  subgraph clusterAws {<br />    label="Amazon AWS";<br />    WebServer<br />    Database [label="Dynamo DB"];<br />  }<br />  Customer -&gt; Jack [label="Phones"];<br />  Jack -&gt; Computer;<br />  Computer -&gt; WebServer [style="dashed", dir=both, label="HTTP"];<br />  WebServer -&gt; Database;<br />  Database -&gt; WebServer;<br />  <br />  Computer -&gt; Jack;<br />}</code></pre> <p>This yields the following</p> <a href="http://4.bp.blogspot.com/-2gPojcaFZXA/UcmX3MSnYAI/AAAAAAAAKf4/b0b8sYa3IZo/s1600/Screenshot+from+2013-06-25+13:58:05.png" imageanchor="1"><img border="0" src="http://4.bp.blogspot.com/-2gPojcaFZXA/UcmX3MSnYAI/AAAAAAAAKf4/b0b8sYa3IZo/s1600/Screenshot+from+2013-06-25+13:58:05.png"></a> <p>The downside of this is that you cannot directly control the position of individual elements in the graph, though I suspect that by now you are seeing that this tool can be quite beneficial when creating quick technical drawings.</p> <p>The best thing about Graphviz is that what you see in the code above is actually a language called DOT and quite well supported by a number of tools. This means that you can output nearly any type of image using the Graphviz tools but also that there is a variety of other implementations, most notably a Javascript port that <a href="http://mdaines.github.io/viz.js/example.html">renders to a &lt;canvas&gt; element</a> and a particularly sexy, but partial port that <a href="http://cpettitt.github.io/project/dagre/latest/demo/demo.html">runs on top of d3</a>.</p> <p>Currently I have Graphviz implemented inside my BDD test scripts so when they fail you can graphically see the state of the system which caused the error, this makes debugging soooo much easier.</p> <p>If you want to have a play I have prepared a <a href="http://jsbin.com/udogef/20/">Javascript demo on JS Bin</a>.  <p>So next time you're stuck explaining something, why not give <a href="http://www.graphviz.org/">GraphViz</a> a go...</p>  <style>     pre {         margin: 1em;         background-color: #DDD;         padding: 0.5em;         border: 1px #AAA solid;     }      pre code {         padding: 0 0;     }      code {         background-color: #DDD;         padding: 0 0.3em;     }  </style>
