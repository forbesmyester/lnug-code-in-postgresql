---
layout: post
title: getTLIdEncoderDecoder.js - Locally unique, shorter, sortable timestamp based
  Id's
tag: 
---

<style>pre {     margin: 1em;     background-color: #DDD;     padding: 0.5em;     border: 1px #AAA solid; }  pre code {     padding: 0 0; }  code {     background-color: #DDD;     padding: 0 0.3em; } </style> <div dir="ltr">I have recently wrote getTLIdEncoderDecoder.js which is a component of SyncIt's upcoming Path based storage.</div><div dir="ltr"><br /></div><div dir="ltr">Given a supplied epoch it will generate you TLId, which is a word I just invented!</div><div dir="ltr"><br /></div><div dir="ltr">What is a TLId? It stands for Time Local Id and gives you a reference based on a timestamp that is locally unique.</div><div dir="ltr"><br /></div><div dir="ltr">Advantages:</div><div dir="ltr"></div><ol><li>The are shorter than timestamps (though not by a lot).</li><li>You can extract the timestamp that the TLId was generated.</li><li>If you want them ordered by generation time, you do not need to convert them back to timestamps beforehand.</li></ol><div>Here's how you use it:</div> <br /><pre><code>// Use one character (32 bit number) to ensure uniqueness within a millisecond<br />var uniquenessPerMillisecond = 1;<br />// As close as possible (but lower) than the lowest date to give shorter Id's<br />var epoch = new Date(1970,0,1).getTime();<br /><br /><br />// Get the TLId Encoder / Decoder<br />var encoderDecoder = getTLIdEncoderDecoder(epoch,uniquenessPerMillisecond);<br /><br />// Encode a date into a unique string<br />var dates = [<br />  encoderDecoder.encode(),<br />  encoderDecoder.encode(new Date(1980,1,6).getTime()),<br />  encoderDecoder.encode(new Date(1981,3,15).getTime()),<br />  encoderDecoder.encode(new Date(1986,8,9).getTime()),<br />  encoderDecoder.encode(new Date(1983,10,3).getTime()),<br />  encoderDecoder.encode(new Date(1982,0,6).getTime())<br />];<br /><br />// Get the dates it was encoded<br />var originalTimestamps = dates.map(encoderDecoder.decode);<br /><br />// Sort them in date order<br />var sortedDates = dates.sort(encoderDecoder.sort);<br /></code></pre> <div dir="ltr">Source code is, of course, located <a href="https://github.com/forbesmyester/SyncIt/blob/master/js/getTLIdEncoderDecoder.js">at </a><a href="https://github.com/forbesmyester/SyncIt/blob/master/js/getTLIdEncoderDecoder.js"><u>GitHub</u></a></div>
