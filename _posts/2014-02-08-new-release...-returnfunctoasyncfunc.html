---
layout: post
title: New Release... returnFuncToAsyncFunc
tag: 
---

<p>Sometimes you have a function, that you're planning to use within something like <code>async.waterfall</code> but it's wrote to be synchronous and returns a value instead of using a callback. This function will accept that function, along with a context and return an asynchronous version of that function</p><h2 id="example">Example</h2><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> Ctx = <span class="kw">function</span>() {<br />    <span class="kw">this</span>.<span class="fu">x</span> = <span class="dv">123</span>;<br />};<br /><br /><span class="ot">Ctx</span>.<span class="ot">prototype</span>.<span class="fu">doIt</span> = <span class="kw">function</span>(a, b, c) {<br />    <span class="kw">return</span> { <span class="dt">age</span>: a, <span class="dt">legs</span>: b[<span class="dv">2</span>], <span class="dt">name</span>: <span class="ot">c</span>.<span class="fu">name</span>};<br />};<br /><br /><span class="kw">var</span> ctx = <span class="kw">new</span> <span class="fu">Ctx</span>();<br /><br /><span class="kw">var</span> f = <span class="fu">returnFuncToAsyncFunc</span>(<br />    ctx,<br />    <span class="kw">function</span>(a, b, c) {<br />        <span class="kw">return</span> <span class="ot">ctx</span>.<span class="fu">doIt</span>(a, b, c);<br />    }<br />);<br /><span class="fu">f</span>(<span class="dv">99</span>, [<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">2</span>], {<span class="dt">name</span>: <span class="st">&#39;matt&#39;</span>}, <span class="kw">function</span>(err, res) {<br />    <span class="ot">console</span>.<span class="fu">log</span>([<br />        <span class="st">&quot;My name is &quot;</span> + <span class="ot">res</span>.<span class="fu">name</span>,<br />        <span class="st">&quot;I have &quot;</span> + <span class="ot">res</span>.<span class="fu">legs</span> + <span class="st">&quot; legs&quot;</span>,<br />        <span class="st">&quot;and am &quot;</span> + <span class="ot">res</span>.<span class="fu">age</span> + <span class="st">&quot; years old&quot;</span><br />    ].<span class="fu">join</span>(<span class="st">&#39; &#39;</span>));<br />});</code></pre><p>The code is MIT licensed and is available <a href="https://github.com/forbesmyester/returnFuncToAsyncFunc">at GitHub</a>.</p><style>     pre {         margin: 1em;         background-color: #DDD;         padding: 0.5em;         border: 1px #AAA solid;     }          pre code {       padding: 0 0;     }          code {       background-color: #DDD;       padding: 0 0.3em;     }  </style>
